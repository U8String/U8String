# Overloads Policy
- `byte`
- `Rune`
- `U8String`
- `ReadOnlySpan<byte>`
- `ReadOnlySpan<char>` / `string`

# Validation Policy
- `ReadOnlySpan<byte>`: Always
- `ReadOnlySpan<char>`: Never
- `string`: Never
- `byte`: Always
- `Rune`: Never
- `U8String`: Conditional, on manipulation

# TODO
- [ ] Meta: improve the UX of "validate-and-move" options to construct a U8String. The implementation is really vulnerable to malformed UTF-8 and it is problematic to guard against it well without sacrificing a lot of performance. Therefore, it is really important not to push the users towards using the unsafe API.
- [x] IList, IEnumerable
- [ ] Comparison
    - [x] OrdinalComparer
    - [ ] OrdinalIgnoreCaseComparer
    - [ ] UnicodeNormalizedComparer (all normalization forms)
- [x] Runes view (IEnumerable, or stateful IList?)
- [x] Chars view (same as above)
- [x] Lines view
- [ ] Join
- [ ] Splitting
    - [x] Split (byte, char, Rune)
    - [ ] Split (`ReadOnlySpan<byte>`) - `U8RefSplit`
    - [ ] parametrized Split collections (all variants)
    - [x] SplitFirst (byte, char, Rune, ROS, U8String)
    - [x] SplitLast (byte, char, Rune, ROS, U8String)
    - [x] ~~EnumerateSplit? Should regular split not be eagerly computed?~~
- [ ] Comparison
    - [ ] Contains (+case insensitive)
    - [ ] StartsWith (+case insensitive)
    - [ ] EndsWith (+case insensitive)
    - [ ] IndexOf (+case insensitive)
    - [ ] LastIndexOf (+case insensitive)
    - [ ] Equals (+case insensitive)
    - [ ] Equals UTF-16 (+case insensitive)
- [ ] Manipulation
    - [ ] Trim, TrimStart, TrimEnd
    - [x] TrimAscii, TrimStartAscii, TrimEndAscii
    - [x] Replace(byte)
    - [ ] Replace(...)
    - [ ] ReplaceLineEndings
    - [x] ~~SliceUnsafe/SubstringUnsafe (Unchecked or Unvalidated?)~~ `U8Marshal.Slice(...)`
- [x] IsLatin/IsAlphanumeric?
- [x] Construction aligned with collection literals initialization syntax and API shape (turned out to be quite useless)
- [x] `IComparable<U8String>`, `IComparable<U8String?>`
- [x] U8Marshal
    - [x] FromBytes (or CreateUnsafe/Unchecked? Rust or Go naming?)
    - [x] ~~FromAsciiChars~~
- [x] U8Slice? U8Span? (really better not to do it because spans have special recognition by the compiler)
- [x] U8Constants
    - [x] (OS-specific) NewLine
    - [x] (OS-specific) PathSeparator
    - [ ] ReplacementChar
- [x] DebugView
----------------
- [ ] Extensions
    - [ ] System.Net.Http (HttpClient, HttpContent, etc.)
    - [ ] System.IO (File, anything else?)
    - [ ] Streams? Pipelines?
- [ ] Analyzers
    - [ ] Replace string literal comparison with a UTF-8 one
    - [ ] Replace direct for/foreach over a U8String with U8String.AsSpan()
    - [ ] Call .Lines instead of .Split((byte)'\n')
- [ ] Source Generators
    - [ ] Switch map trie generator to work around C# limitations
- [ ] Interpolation? Accept CompositeFormat (or how is it called) as input?